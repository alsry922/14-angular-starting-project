### ë²ˆì—­

---

#### 1
**At the moment in this application,**  
**whenever I click complete here on one of my tasks,**  
**it doesn't update the UI.**  
í˜„ì¬ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ  
ì‘ì—… ì¤‘ í•˜ë‚˜ì˜ "ì™„ë£Œ(Complete)" ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ  
UIê°€ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

#### 2
**If I reload, I can tell that the task actually was deleted,**  
**but that's not shown immediately when I click complete.**  
í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´  
ì‘ì—…ì´ ì‹¤ì œë¡œ ì‚­ì œë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì§€ë§Œ,  
"ì™„ë£Œ" ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì¦‰ì‹œ ë°˜ì˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

#### 3
**And the reason for that is that when a task is removed,**  
**this resolver, which loads my tasks,**  
**does not execute again,**  
**because keep in mind that it's this resolver**  
**that loads the user tasks**  
**that are then made available to the task's component**  
**through this user task's input.**  
ê·¸ ì´ìœ ëŠ”, ì‘ì—…ì´ ì‚­ì œë  ë•Œ  
ì‘ì—…ì„ ë¡œë“œí•˜ëŠ” ë¦¬ì¡¸ë²„ê°€  
ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  
ì´ ë¦¬ì¡¸ë²„ê°€ ì‚¬ìš©ì ì‘ì—…ì„ ë¡œë“œí•˜ì—¬  
í•´ë‹¹ ì‘ì—…ì„ `TasksComponent`ì—  
`userTasks` ì…ë ¥(Input)ìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

---

#### 4
**So if this resolver doesn't run again,**  
**it's still the old list of tasks**  
**that's output by this component,**  
**and that includes the task I deleted.**  
ë”°ë¼ì„œ ì´ ë¦¬ì¡¸ë²„ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´  
ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¶œë ¥ë˜ëŠ” ì‘ì—… ëª©ë¡ì€ ì—¬ì „íˆ ì´ì „ ìƒíƒœì´ë©°,  
ì‚­ì œí•œ ì‘ì—…ì´ í¬í•¨ëœ ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.

---

#### 5
**Now, that's of course not the behavior I want,**  
**and therefore one thing we could do here**  
**is go to the task component**  
**where I do trigger the task removal**  
**and also initialize a navigation action here.**  
ë¬¼ë¡ , ì´ëŠ” ì›í•˜ëŠ” ë™ì‘ì´ ì•„ë‹ˆë¯€ë¡œ,  
ì—¬ê¸°ì—ì„œ ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” í•œ ê°€ì§€ëŠ”  
`TasksComponent`ë¡œ ì´ë™í•˜ì—¬  
ì‘ì—… ì‚­ì œë¥¼ íŠ¸ë¦¬ê±°í•˜ëŠ” ë™ì‹œì—  
íƒìƒ‰(navigation) ë™ì‘ì„ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

---

#### 6
**For that, we can inject the angular router**  
**to perform some programmatic navigation.**  
**So I'll inject the router, and for that,**  
**of course the router must be imported.**  
ì´ë¥¼ ìœ„í•´ Angular ë¼ìš°í„°ë¥¼ ì£¼ì…í•˜ì—¬  
í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ íƒìƒ‰ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ë”°ë¼ì„œ ë¼ìš°í„°ë¥¼ ì£¼ì…í•˜ê³ ,  
ì´ë¥¼ ìœ„í•´ ë¼ìš°í„°ë¥¼ importí•´ì•¼ í•©ë‹ˆë‹¤.

---

#### 7
**And with that, here in on complete,**  
**we can use this router to call navigate.**  
**Now, navigate then can be used**  
**with an array of route fragments**  
**where the first and only fragment in my case here**  
**could be such a relative route fragment.**  
ê·¸ëŸ° ë‹¤ìŒ, `onComplete` í•¨ìˆ˜ ë‚´ì—ì„œ  
ì´ ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ `navigate` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
`navigate`ëŠ” ê²½ë¡œ(fragment)ì˜ ë°°ì—´ì„ ì‚¬ìš©í•˜ë©°,  
ì—¬ê¸°ì—ì„œëŠ” ìƒëŒ€ ê²½ë¡œ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

#### 8
**So such a relative path,**  
**which should hopefully lead**  
**to the same route being loaded again,**  
**which hopefully leads to the resolver to run again.**  
ì´ ìƒëŒ€ ê²½ë¡œëŠ” ë™ì¼í•œ ê²½ë¡œë¥¼ ë‹¤ì‹œ ë¡œë“œí•˜ë„ë¡ ìœ ë„í•˜ë©°,  
ì´ë¡œ ì¸í•´ ë¦¬ì¡¸ë²„ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ë„ë¡ ìœ ë„í•  ê²ƒì…ë‹ˆë‹¤.

---

#### 9
**But this is actually not how it would work.**  
**Instead, we need to add some configuration options here**  
**to make this navigation action work correctly.**  
ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œëŠ” ê·¸ë ‡ê²Œ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
ì´ íƒìƒ‰ ë™ì‘ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ë„ë¡  
ëª‡ ê°€ì§€ êµ¬ì„± ì˜µì…˜ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

---

#### 10
**And then we'll also need**  
**to tweak some other place in this app**  
**because one option we need**  
**to add here in this navigate configuration object**  
**is the relative to property.**  
ê·¸ë¦¬ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‹¤ë¥¸ ë¶€ë¶„ë„ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤.  
`navigate` êµ¬ì„± ê°ì²´ì— ì¶”ê°€í•´ì•¼ í•  ì˜µì…˜ ì¤‘ í•˜ë‚˜ëŠ”  
`relativeTo` ì†ì„±ì…ë‹ˆë‹¤.

---

#### 11
**Because to make sure that Angular navigates**  
**relative to the route we're currently on**  
**with this Navigate method,**  
**you must tell Angular**  
**that you want to navigate**  
**relative to the currently activated route.**  
ì´ `Navigate` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬  
í˜„ì¬ í™œì„±í™”ëœ ê²½ë¡œë¥¼ ê¸°ì¤€ìœ¼ë¡œ íƒìƒ‰í•˜ë ¤ë©´  
Angularì— í˜„ì¬ í™œì„±í™”ëœ ê²½ë¡œë¥¼ ê¸°ì¤€ìœ¼ë¡œ íƒìƒ‰í•´ì•¼ í•œë‹¤ê³   
ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

---

#### 12
**And you do this by providing the relative to property here**  
**and by then injecting the activated route**  
**as we did it before in other parts of this section as well.**  
`relativeTo` ì†ì„±ì„ ì§€ì •í•˜ê³ ,  
`ActivatedRoute`ë¥¼ ì£¼ì…í•˜ì—¬ ì´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.  
ì´ëŠ” ì´ì „ ì„¹ì…˜ì—ì„œ í–ˆë˜ ê²ƒê³¼ ë™ì¼í•©ë‹ˆë‹¤.

---

#### 13
**So the activated route must be imported and injected.**  
**And then here you said relative to**  
**to this activated route.**  
`ActivatedRoute`ë¥¼ importí•˜ê³  ì£¼ì…í•œ ë‹¤ìŒ,  
`relativeTo`ë¥¼ ì´ `ActivatedRoute`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

---
### ë²ˆì—­ ê³„ì†

---

#### 14
**But that's not all.**  
**In addition, you should also set**  
**the onSameUrlNavigation to reload,**  
**because since I'm essentially telling Angular**  
**that I want to go to the route I'm currently on,**  
**by default, it would ignore that navigation**  
**and it would not trigger resolvers**  
**or anything like that again.**  
í•˜ì§€ë§Œ ì´ê²ƒì´ ì „ë¶€ëŠ” ì•„ë‹™ë‹ˆë‹¤.  
ì¶”ê°€ì ìœ¼ë¡œ `onSameUrlNavigation`ì„ `reload`ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.  
ì™œëƒí•˜ë©´ í˜„ì¬ íƒìƒ‰í•˜ë ¤ëŠ” ê²½ë¡œê°€  
ì´ë¯¸ ë¨¸ë¬¼ê³  ìˆëŠ” ê²½ë¡œì™€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì—,  
ê¸°ë³¸ì ìœ¼ë¡œ AngularëŠ” ì´ íƒìƒ‰ì„ ë¬´ì‹œí•˜ê³   
ë¦¬ì¡¸ë²„ ë˜ëŠ” ê¸°íƒ€ ê´€ë ¨ ë™ì‘ì„ ì‹¤í–‰í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

---

#### 15
**So we must set this to reload,**  
**to get Angular to perform this navigation action**  
**as if we would be coming from a different route.**  
ë”°ë¼ì„œ ì´ë¥¼ `reload`ë¡œ ì„¤ì •í•˜ì—¬  
Angularê°€ ë‹¤ë¥¸ ê²½ë¡œì—ì„œ ì˜¨ ê²ƒì²˜ëŸ¼  
ì´ íƒìƒ‰ ë™ì‘ì„ ì‹¤í–‰í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.

---

#### 16
**But even with this all added,**  
**we would still not get the behavior we need.**  
**Because in addition, you also need to go**  
**to the user routes configuration.**  
ê·¸ëŸ¬ë‚˜ ì´ ëª¨ë“  ê²ƒì„ ì¶”ê°€í•˜ë”ë¼ë„  
ì—¬ì „íˆ ì›í•˜ëŠ” ë™ì‘ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.  
ì¶”ê°€ì ìœ¼ë¡œ `user` ê²½ë¡œ êµ¬ì„±ìœ¼ë¡œ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤.

---

#### 17
**And then there on this route config for this task route,**  
**you should change run guards and resolvers to always,**  
**because otherwise Angular would actually not run**  
**this resolver function here again,**  
**because neither the path parameters**  
**nor the query parameters changed.**  
ê·¸ë¦¬ê³  `tasks` ê²½ë¡œì˜ ì´ ê²½ë¡œ êµ¬ì„±ì—ì„œ  
`runGuardsAndResolvers`ë¥¼ `always`ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.  
ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ AngularëŠ”  
ê²½ë¡œ ë§¤ê°œë³€ìˆ˜(path parameters)ë‚˜  
ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜(query parameters)ê°€  
ë³€ê²½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—  
ë¦¬ì¡¸ë²„ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.

---

#### 18
**That's why we need always here.**  
**Well, and with that, finally,**  
**if you save that, if you reload,**  
**and I will actually disable this guard here**  
**and set this to one to make sure**  
**that we always end up on this route**  
**where I want to go to since it's a bit annoying otherwise.**  
ê·¸ë˜ì„œ ì—¬ê¸°ì— `always`ê°€ í•„ìš”í•©ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ì´ë¥¼ ì €ì¥í•˜ê³  ìƒˆë¡œê³ ì¹¨í•˜ë©´  
ì œê°€ íŠ¹ì • ê²½ë¡œë¡œ í•­ìƒ ì´ë™í•˜ë„ë¡  
ì´ ê²½ë¡œ ë³´í˜¸ ê¸°ëŠ¥ì„ ë¹„í™œì„±í™”í•˜ê³   
í•´ë‹¹ ì„¤ì • ê°’ì„ 1ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.  
ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì•½ê°„ ë²ˆê±°ë¡œìš¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

---

#### 19
**So with that, if I go back,**  
**if I sort here, that works as intended.**  
**But if I now click complete here,**  
**you see that was updated.**  
ê·¸ë˜ì„œ ì´ë ‡ê²Œ í•˜ë©´ ë’¤ë¡œ ì´ë™í•œ ë‹¤ìŒ,  
ì—¬ê¸°ì„œ ì •ë ¬(Sort) ì‘ì—…ì„ ì‹¤í–‰í•˜ë©´  
ì˜ë„í•œ ëŒ€ë¡œ ì‘ë™í•©ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ì´ì œ "ì™„ë£Œ(Complete)"ë¥¼ í´ë¦­í•˜ë©´  
ì—…ë°ì´íŠ¸ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

#### 20
**So that now worked as intended**  
**due to those settings we added to this application.**  
**Now, one problem you might still notice**  
**is that if you do actually add another task here,**  
**if you do sort and you therefore have query parameters here,**  
**if you sort and you then click complete,**  
**those query parameters are actually deleted.**  
ì´ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¶”ê°€í•œ ì„¤ì • ë•ë¶„ì—  
ì˜ë„í•œ ëŒ€ë¡œ ì‘ë™í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì—¬ì „íˆ ëˆˆì— ëŒ ìˆ˜ ìˆëŠ” ë¬¸ì œëŠ”  
ì—¬ê¸°ì— ì‘ì—…ì„ ì¶”ê°€í•˜ê³   
ì •ë ¬(Sort)ì„ ì‹¤í–‰í•˜ì—¬ ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ê²½ìš°,  
ì •ë ¬ í›„ "ì™„ë£Œ(Complete)"ë¥¼ í´ë¦­í•˜ë©´  
ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ê°€ ì‚­ì œëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

---

#### 21
**And to make sure that this is not happening,**  
**we should add one last option here to this navigate method.**  
**And that's the queryParamsHandling option,**  
**which you should set to preserve**  
**to make sure that query parameters are preserved.**  
ì´ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´  
`navigate` ë©”ì„œë“œì— ë§ˆì§€ë§‰ ì˜µì…˜ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.  
ê·¸ ì˜µì…˜ì€ `queryParamsHandling`ìœ¼ë¡œ,  
ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ê°€ ìœ ì§€ë˜ë„ë¡  
ì´ë¥¼ `preserve`ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

---

#### 22
**With that, finally, if you go back**  
**and you add one more test here real quick**  
**and you click on sort so that you have query parameters.**  
**Now if you do that**  
**and you click on complete,**  
**you see the page updates**  
**because the route is kind of reloaded**  
**and the query parameters are also still there.**  
ê·¸ë ‡ê²Œ í•˜ë©´ ë’¤ë¡œ ì´ë™í•œ ë‹¤ìŒ  
ìƒˆ í…ŒìŠ¤íŠ¸ ì‘ì—…ì„ ì¶”ê°€í•˜ê³   
"ì •ë ¬(Sort)" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  
ê·¸ í›„ "ì™„ë£Œ(Complete)"ë¥¼ í´ë¦­í•˜ë©´  
ê²½ë¡œê°€ ë‹¤ì‹œ ë¡œë“œë˜ë©´ì„œ  
ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ê°€ ê·¸ëŒ€ë¡œ ìœ ì§€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

#### ë²ˆì—­ ì™„ë£Œ! ğŸ‰
